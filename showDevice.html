<!DOCTYPE html>
<html lang="en">

<head>
    <title>ERP Project</title>
    <link rel="stylesheet" href="showDevice.css">
    <link rel="icon" type="image/x-icon" href="/icon.png">
    <script>
        function onLoad() {
            loadDevice();
            console.log("Called loadData()");
        }
        window.onload = onLoad;
    </script>
    <link rel='stylesheet' type='text/css' href='https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.23.0/maps/maps.css'>
    <script src='https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.23.0/maps/maps-web.min.js'></script>
    <script src="loadDevice.js"></script>
    <script src="addDevice.js"></script>
</head>

<body>
    <div id="header">
        <div id="title">
            <a href="https://databasemls.online">ERP Raspberry Shake Dashboard</a>
        </div>
    </div>

    <div id="mainContent">
        <div id="deviceList">
            <div id="deviceListHeader">
                Connected Devices:
            </div>

            <div id="deviceListMain">

            </div>
        </div>

 
        
        
        
        
   
<div class="header2">
      <h2><strong>Device #<span id="device-number"></span></strong></h2>
      <p><span id="device-address"></span></p>
      <p><strong>Activity Count:</strong> <span id="activity-count"></span></p>
    </div>
    <hr>
    <div class="activity-log">
      <h3>Activity Log</h3>
      <ul id="activity-list">
        <!-- your activity log entries here -->
      </ul>
    </div>
    <script>
      // extract deviceId and deviceAddress from URL
      const urlParams = new URLSearchParams(window.location.search);
      const deviceId = urlParams.get('deviceId');
      const deviceAddress = "Random Address"; // replace with your random address

      // set content of device info elements
      const deviceNumberElement = document.getElementById('device-number');
      deviceNumberElement.textContent = deviceId;

      const deviceAddressElement = document.getElementById('device-address');
      deviceAddressElement.textContent = deviceAddress;

      // initialize activity count for each animal type
      const activityCount = {
        lion: 0,
        elephant: 0,
        giraffe: 0,
        zebra: 0,
        cheetah: 0
      };

      // update activity count and log new activity
      function logActivity(animal) {
        // update activity count
        activityCount[animal]++;

        // update activity count display
        const activityCountElement = document.getElementById('activity-count');
        const totalActivity = Object.values(activityCount).reduce((a, b) => a + b, 0);
        activityCountElement.textContent = totalActivity;

        // add new activity to activity log
        const activityListElement = document.getElementById('activity-list');
        const now = new Date();
        const activityItem = document.createElement('li');
        activityItem.textContent = animal + " at " + now.toLocaleString();
        activityListElement.appendChild(activityItem);
        // add a line break after the activity item
        const lineBreak = document.createElement('hr');
        activityListElement.appendChild(lineBreak);
      }

      // example usage of logActivity function
      logActivity('lion');
      logActivity('giraffe');
    </script>


        
        
        
        
        
        

    </div>
    <div id="addDevicePopup">
        <div id="addDeviceHeader">
            <div id="addDeviceClose" onClick="closeAddDevicePopup()">
                <img src="/backicon.png" alt="Return to Dashboard" width="32" height="32">
            </div>
            <div id="popupTitle">
                Add New Device
            </div>
        </div>
        <div id="addDeviceForm">
            <form id="form">
                <div id="formEntry">
                    <label for="deviceName">Device Name:</label>
                    <input type="text" id="deviceName" required>
                    <div id="nameError"></div>
                </div>

                <div id="formEntry">
                    <label for="ipAddress">IP Address:</label>
                    <input type="text" id="ipAddress" required>
                    <div id="ipError"></div>
                </div>

                <div id="formEntry">
                    <label for="userName">Username:</label>
                    <input type="text" id="userName" required>
                    <div id="usernameError"></div>
                </div>

                <div id="formEntry">
                    <label for="password">Password:</label>
                    <input type="text" id="password" required>
                    <div id="passwordError"></div>
                </div>

                <div id="formEntry">
                    <label for="latitude">Latitude:</label>
                    <input type="number" id="latitude" required>
                    <div id="latitudeError"></div>
                </div>

                <div id="formEntry">
                    <label for="longitude">Longitude:</label>
                    <input type="number" id="longitude" required>
                    <div id="longitudeError"></div>
                </div>

                <div id="formEntry">
                    <label for="altitude">Altitude:</label>
                    <input type="number" id="altitude" required>
                    <div id="altitudeError"></div>
                </div>
            </form>
            <div id="submitFormButton">
                <button onclick="submitForm()">Submit</button>
            </div>
        </div>
    </div>

</body>

</html>
